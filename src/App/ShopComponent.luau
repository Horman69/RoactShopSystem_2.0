--!strict
-- src/App/ShopComponent.luau
-- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç Roact –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –º–∞–≥–∞–∑–∏–Ω–∞ –∏ –ø–æ–∫—É–ø–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤
-- –û–±–Ω–æ–≤–ª—ë–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–æ–≤–æ–π —Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π

local ReplicatedStorage = game:GetService("ReplicatedStorage")
local TweenService = game:GetService("TweenService") -- –î–æ–±–∞–≤–ª—è–µ–º TweenService

-- –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º —á–µ—Ä–µ–∑ ModuleLoader
local ModuleLoader = require(ReplicatedStorage:WaitForChild("shared"):WaitForChild("ModuleLoader"))
local Roact = ModuleLoader.require("Packages/roact")
local ShopService = ModuleLoader.require("services/ShopService")
local PlatformService = ModuleLoader.require("services/SimplePlatformService")

-- –¢–∏–ø—ã
local Types = require(ReplicatedStorage:WaitForChild("shared"):WaitForChild("Types"))
type Product = Types.Product
type ShopComponentProps = Types.ShopComponentProps

--[=[
	ShopComponent
	–ü—Ä–æ–ø—Å—ã:
	- onPurchase (function): —Ñ—É–Ω–∫—Ü–∏—è, –≤—ã–∑—ã–≤–∞–µ–º–∞—è –ø–æ—Å–ª–µ –ø–æ–ø—ã—Ç–∫–∏ –ø–æ–∫—É–ø–∫–∏
	- currentCoins (number): —Ç–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–æ–Ω–µ—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
]=]
local ShopComponent = Roact.Component:extend("ShopComponent")

function ShopComponent:init()
	-- –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å –∏–ª–∏ —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π (–¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)
	self.shopService = self.props.shopService or ShopService.new()
	
	-- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º PlatformService
	self.platformService = PlatformService.new()
	
	-- –ü–æ–ª—É—á–∞–µ–º –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã
	self:updateProducts()
end

-- –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤
function ShopComponent:updateProducts()
	local Players = game:GetService("Players")
	local player = Players.LocalPlayer
	local availableProducts = self.shopService:getAvailableProducts(player)
	self:setState({
		products = availableProducts
	})
end

-- –û–±–Ω–æ–≤–ª—è–µ–º —Ç–æ–≤–∞—Ä—ã –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø—Ä–æ–ø—Å–æ–≤
function ShopComponent:didUpdate(previousProps)
	-- –ï—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª—Å—è updateTrigger, –æ–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤
	if self.props.updateTrigger ~= previousProps.updateTrigger then
		self:updateProducts()
	end
end

function ShopComponent:render()
	local products = self.state.products or {}
	local productElements = {}
	
	-- üì± –ü–û–õ–ù–û–°–¢–¨–Æ –ê–î–ê–ü–¢–ò–í–ù–´–ï –†–ê–ó–ú–ï–†–´ –ò–ó –ö–û–ù–§–ò–ì–ê
	local config = self.platformService:getConfig()
	local isMobile = self.platformService:isMobile()
	local isTablet = self.platformService:isTablet()
	local screenSize = self.platformService:getScreenSize()
	
	-- üéØ –¶–ï–ù–¢–†–ò–†–û–í–ê–ù–ù–´–ï –ö–ê–†–¢–û–ß–ö–ò –° –†–û–í–ù–´–ú–ò –û–¢–°–¢–£–ü–ê–ú–ò
	local containerWidth = isMobile and (screenSize.X * 0.9) or 480  -- –®–∏—Ä–∏–Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –º–∞–≥–∞–∑–∏–Ω–∞
	local sideMargin = 20  -- –û—Ç—Å—Ç—É–ø—ã —Å –±–æ–∫–æ–≤
	local maxCardWidth = containerWidth - (sideMargin * 2)  -- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∏
	local cardWidth = isMobile and math.min(maxCardWidth, 320) or math.min(maxCardWidth, 420)  -- –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —à–∏—Ä–∏–Ω–∞
	
	-- –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
	local cardLeftPosition = (containerWidth - cardWidth) / 2
	
	-- –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤—ã—Å–æ—Ç–∞ —Å —É—á—ë—Ç–æ–º —Ä–∞–∑–º–µ—Ä–∞ —à—Ä–∏—Ñ—Ç–∞ - –ö–û–ú–ü–ê–ö–¢–ù–ï–ï
	local baseCardHeight = isMobile and 65 or 75  -- –£–º–µ–Ω—å—à–∞–µ–º –≤—ã—Å–æ—Ç—É –¥–ª—è –∫–æ–º–ø–∞–∫—Ç–Ω–æ—Å—Ç–∏
	local textLinesHeight = config.buttonTextSize + config.bodyTextSize + (config.bodyTextSize - 2) + (config.spacing * 3)
	local cardHeight = math.max(baseCardHeight, textLinesHeight + (config.padding * 1.5)) -- –ú–µ–Ω—å—à–µ –æ—Ç—Å—Ç—É–ø–æ–≤
	
	local cardSpacing = config.spacing
	local totalItemHeight = cardHeight + cardSpacing
	local leftPadding = config.padding
	
	for i, product in ipairs(products) do
		productElements["Product" .. i] = Roact.createElement("Frame", {
			Size = UDim2.new(0, cardWidth, 0, cardHeight),
			Position = UDim2.new(0, cardLeftPosition, 0, totalItemHeight * (i - 1) + config.padding), -- –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è
			BackgroundColor3 = Color3.fromRGB(20, 30, 45), -- –¢–µ–º–Ω–∞—è –∫–æ—Å–º–∏—á–µ—Å–∫–∞—è –æ—Å–Ω–æ–≤–∞
			BackgroundTransparency = 0.1,
			BorderSizePixel = 0,
		}, {
			-- üíé –ê–î–ê–ü–¢–ò–í–ù–û–ï –°–ö–†–£–ì–õ–ï–ù–ò–ï
			UICorner = Roact.createElement("UICorner", {
				CornerRadius = UDim.new(0, config.cornerRadius),
			}),
			
			-- üåà –ì–û–õ–û–ì–†–ê–§–ò–ß–ï–°–ö–ò–ô –ì–†–ê–î–ò–ï–ù–¢
			HoloGradient = Roact.createElement("UIGradient", {
				Color = ColorSequence.new({
					ColorSequenceKeypoint.new(0, Color3.fromRGB(25, 35, 50)),
					ColorSequenceKeypoint.new(0.5, Color3.fromRGB(30, 40, 60)),
					ColorSequenceKeypoint.new(1, Color3.fromRGB(20, 30, 45)),
				}),
				Rotation = 45,
			}),
			
			-- ‚ú® –ù–ï–û–ù–û–í–ê–Ø –û–ë–í–û–î–ö–ê (–¶–í–ï–¢ –ö–ê–ö –£ –°–ü–û–°–û–ë–ù–û–°–¢–ï–ô)
			NeonStroke = Roact.createElement("UIStroke", {
				Color = Color3.fromRGB(80, 80, 80), -- –¢–∞–∫–æ–π –∂–µ —Ü–≤–µ—Ç –∫–∞–∫ —É —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π
				Thickness = 2,
				Transparency = 0.5,
			}),
			
			-- üåü –ö–û–°–ú–ò–ß–ï–°–ö–ê–Ø –¢–ï–ù–¨ (–¶–í–ï–¢ –ö–ê–ö –£ –°–ü–û–°–û–ë–ù–û–°–¢–ï–ô)
			CosmicShadow = Roact.createElement("Frame", {
				BackgroundColor3 = Color3.fromRGB(80, 80, 80), -- –¢–∞–∫–æ–π –∂–µ —Ü–≤–µ—Ç –∫–∞–∫ —É —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π
				BackgroundTransparency = 0.8,
				BorderSizePixel = 0,
				Size = UDim2.new(1, 8, 1, 8),
				Position = UDim2.new(0, -4, 0, 4),
				ZIndex = -1,
			}, {
				UICorner = Roact.createElement("UICorner", {
					CornerRadius = UDim.new(0, 20),
				}),
			}),
			
			-- üéØ –ü–†–û–§–ï–°–°–ò–û–ù–ê–õ–¨–ù–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø –û –¢–û–í–ê–†–ï
			ProductInfo = Roact.createElement("Frame", {
				-- –û—Å—Ç–∞–≤–ª—è–µ–º –º–µ—Å—Ç–æ –¥–ª—è –∫–Ω–æ–ø–∫–∏ —Å–ø—Ä–∞–≤–∞
				Size = UDim2.new(1, -(isMobile and 90 or 110), 1, 0),
				Position = UDim2.new(0, 0, 0, 0),
				BackgroundTransparency = 1,
			}, {
				-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –æ—Ç—Å—Ç—É–ø–∞–º–∏
				TextContainer = Roact.createElement("Frame", {
					Size = UDim2.new(1, -16, 1, -12), -- –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –æ—Ç—Å—Ç—É–ø—ã
					Position = UDim2.new(0, 12, 0, 8), -- –û—Ç—Å—Ç—É–ø—ã –æ—Ç –∫—Ä–∞—ë–≤
					BackgroundTransparency = 1,
				}, {
					-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Ç–æ–≤–∞—Ä–∞
					Name = Roact.createElement("TextLabel", {
						Text = product.name,
						Size = UDim2.new(1, 0, 0, 18), -- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤—ã—Å–æ—Ç–∞ –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–∞
						Position = UDim2.new(0, 0, 0, 0),
						BackgroundTransparency = 1,
						TextXAlignment = Enum.TextXAlignment.Left,
						TextYAlignment = Enum.TextYAlignment.Top,
						TextSize = isMobile and 16 or 18,
						Font = Enum.Font.GothamBold,
						TextColor3 = Color3.fromRGB(255, 255, 255),
						TextTruncate = Enum.TextTruncate.AtEnd,
					}),
					
					-- –¶–µ–Ω–∞ —Ç–æ–≤–∞—Ä–∞
					Price = Roact.createElement("TextLabel", {
						Text = "üí∞ " .. product.price .. " –º–æ–Ω–µ—Ç",
						Size = UDim2.new(1, 0, 0, 16), -- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤—ã—Å–æ—Ç–∞ –¥–ª—è —Ü–µ–Ω—ã
						Position = UDim2.new(0, 0, 0, 22), -- –ü–æ–¥ –∑–∞–≥–æ–ª–æ–≤–∫–æ–º —Å –æ—Ç—Å—Ç—É–ø–æ–º
						BackgroundTransparency = 1,
						TextXAlignment = Enum.TextXAlignment.Left,
						TextYAlignment = Enum.TextYAlignment.Top,
						TextSize = isMobile and 14 or 16,
						Font = Enum.Font.GothamBold,
						TextColor3 = Color3.fromRGB(255, 215, 0),
					}),
					
					-- –û–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
					Description = Roact.createElement("TextLabel", {
						Text = product.description,
						Size = UDim2.new(1, 0, 0, 14), -- –ö–æ–º–ø–∞–∫—Ç–Ω–∞—è –≤—ã—Å–æ—Ç–∞ –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è
						Position = UDim2.new(0, 0, 0, 42), -- –ü–æ–¥ —Ü–µ–Ω–æ–π —Å –æ—Ç—Å—Ç—É–ø–æ–º
						BackgroundTransparency = 1,
						TextXAlignment = Enum.TextXAlignment.Left,
						TextYAlignment = Enum.TextYAlignment.Top,
						TextSize = isMobile and 12 or 13,
						Font = Enum.Font.Gotham,
						TextColor3 = Color3.fromRGB(180, 180, 180),
						TextWrapped = true,
						TextTruncate = Enum.TextTruncate.AtEnd,
					}),
				}),
			}),
			
			-- üéÆ –ü–†–û–§–ï–°–°–ò–û–ù–ê–õ–¨–ù–ê–Ø –ö–ù–û–ü–ö–ê –ü–û–ö–£–ü–ö–ò
			BuyButton = Roact.createElement("TextButton", {
				Text = "–ö–£–ü–ò–¢–¨",
				-- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∫–Ω–æ–ø–∫–∏
				Size = UDim2.new(0, isMobile and 80 or 90, 0, isMobile and 28 or 32),
				-- –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø—Ä–∞–≤–∞ —Å –æ—Ç—Å—Ç—É–ø–æ–º, –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ –ø–æ —Ü–µ–Ω—Ç—Ä—É
				Position = UDim2.new(1, -(isMobile and 88 or 98), 0.5, -(isMobile and 14 or 16)),
				BackgroundColor3 = Color3.fromRGB(34, 197, 94), -- –ë–æ–ª–µ–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∑–µ–ª—ë–Ω—ã–π
				BackgroundTransparency = 0,
				TextSize = isMobile and 14 or 15, -- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã —Ç–µ–∫—Å—Ç–∞
				Font = Enum.Font.GothamBold,
				TextColor3 = Color3.fromRGB(255, 255, 255),
				AutoButtonColor = false,
				BorderSizePixel = 0,
				-- –¢–û–õ–¨–ö–û –û–î–ù–û –°–û–ë–´–¢–ò–ï –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –¥–≤–æ–π–Ω–æ–π –ø–æ–∫—É–ø–∫–∏
				[Roact.Event.Activated] = function()
					if self.props.onPurchase then
						self.props.onPurchase(product)
					end
				end,
				-- –¢–û–õ–¨–ö–û –¥–ª—è –¥–µ—Å–∫—Ç–æ–ø–∞: hover —ç—Ñ—Ñ–µ–∫—Ç—ã
				[Roact.Event.MouseEnter] = not isMobile and function(button)
					-- –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è hover
					local tween = TweenService:Create(button,
						TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
						{ BackgroundColor3 = Color3.fromRGB(22, 163, 74) } -- –¢—ë–º–Ω–æ-–∑–µ–ª—ë–Ω—ã–π –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
					)
					tween:Play()
				end or nil,
				[Roact.Event.MouseLeave] = not isMobile and function(button)
					-- –ê–Ω–∏–º–∞—Ü–∏—è –≤–æ–∑–≤—Ä–∞—Ç–∞
					local tween = TweenService:Create(button,
						TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
						{ BackgroundColor3 = Color3.fromRGB(34, 197, 94) } -- –í–æ–∑–≤—Ä–∞—Ç –∫ –±–∞–∑–æ–≤–æ–º—É –∑–µ–ª—ë–Ω–æ–º—É
					)
					tween:Play()
				end or nil,
			}, {
				-- –°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Å–∫—Ä—É–≥–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏
				UICorner = Roact.createElement("UICorner", {
					CornerRadius = UDim.new(0, 8), -- –£–º–µ—Ä–µ–Ω–Ω–æ–µ —Å–∫—Ä—É–≥–ª–µ–Ω–∏–µ
				}),
			}),
		})
	end

	-- –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –æ–±—â—É—é –≤—ã—Å–æ—Ç—É –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –æ—Ç—Å—Ç—É–ø–∞–º–∏
	local totalContentHeight = totalItemHeight * #products + config.padding
	
	-- üåå –†–ê–ó–ú–ï–† –ú–ê–ì–ê–ó–ò–ù–ê –î–û–õ–ñ–ï–ù –°–û–û–¢–í–ï–¢–°–¢–í–û–í–ê–¢–¨ –ö–û–ù–¢–ï–ô–ù–ï–†–£
	local shopWidth = containerWidth  -- –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–æ–ª–Ω—É—é —à–∏—Ä–∏–Ω—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
	local shopHeight = isMobile and (screenSize.Y * 0.8) or 520  -- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –≤—ã—Å–æ—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
	
	return Roact.createElement("Frame", {
		Size = UDim2.new(0, shopWidth, 0, shopHeight),
		Position = UDim2.new(0, 0, 0, 0), -- –ó–∞–ø–æ–ª–Ω—è–µ–º –≤–µ—Å—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å —Å–∞–º–æ–≥–æ –≤–µ—Ä—Ö–∞
		BackgroundColor3 = Color3.fromRGB(10, 15, 25), -- –¢–µ–º–Ω–∞—è –∫–æ—Å–º–∏—á–µ—Å–∫–∞—è –æ—Å–Ω–æ–≤–∞
		BackgroundTransparency = 0.2, -- –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –¥–ª—è glass —ç—Ñ—Ñ–µ–∫—Ç–∞
		BorderSizePixel = 0,
		Visible = self.props.visible,
	}, {
		-- ‚ú® PREMIUM –°–ö–†–£–ì–õ–ï–ù–ò–ï
		UICorner = Roact.createElement("UICorner", {
			CornerRadius = UDim.new(0, 24), -- –ë–æ–ª–µ–µ —Å–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–µ —É–≥–ª—ã
		}),
		
		-- üî• RGB –ù–ï–û–ù–û–í–ê–Ø –û–ë–í–û–î–ö–ê (–¶–í–ï–¢ –ö–ê–ö –£ –°–ü–û–°–û–ë–ù–û–°–¢–ï–ô)
		NeonBorder = Roact.createElement("UIStroke", {
			Color = Color3.fromRGB(80, 80, 80), -- –¢–∞–∫–æ–π –∂–µ —Ü–≤–µ—Ç –∫–∞–∫ —É —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π
			Thickness = 3,
			Transparency = 0.3,
		}),
		
		-- üåü –≠–ü–ò–ß–ï–°–ö–ê–Ø –¢–ï–ù–¨ –° GLOW –≠–§–§–ï–ö–¢–û–ú (–¶–í–ï–¢ –ö–ê–ö –£ –°–ü–û–°–û–ë–ù–û–°–¢–ï–ô)
		CosmicShadow = Roact.createElement("Frame", {
			BackgroundColor3 = Color3.fromRGB(80, 80, 80), -- –¢–∞–∫–æ–π –∂–µ —Ü–≤–µ—Ç –∫–∞–∫ —É —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π
			BackgroundTransparency = 0.7,
			BorderSizePixel = 0,
			Size = UDim2.new(1, 16, 1, 16),
			Position = UDim2.new(0, -8, 0, 8),
			ZIndex = -1,
		}, {
			UICorner = Roact.createElement("UICorner", {
				CornerRadius = UDim.new(0, 32),
			}),
		}),
		
		-- üé≠ –ì–û–õ–û–ì–†–ê–§–ò–ß–ï–°–ö–ò–ô –ì–†–ê–î–ò–ï–ù–¢
		HologramGradient = Roact.createElement("UIGradient", {
			Color = ColorSequence.new({
				ColorSequenceKeypoint.new(0, Color3.fromRGB(15, 25, 40)),
				ColorSequenceKeypoint.new(0.5, Color3.fromRGB(20, 30, 50)),
				ColorSequenceKeypoint.new(1, Color3.fromRGB(10, 20, 35)),
			}),
			Rotation = 135,
		}),
		
		-- üè™ –ö–û–ú–ü–ê–ö–¢–ù–´–ô –ó–ê–ì–û–õ–û–í–û–ö –ú–ê–ì–ê–ó–ò–ù–ê
		Header = Roact.createElement("TextLabel", {
			Text = "‚ú® –ú–ê–ì–ê–ó–ò–ù ‚ú®", -- –ë–æ–ª–µ–µ –∫–æ—Ä–æ—Ç–∫–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫
			Size = UDim2.new(1, -60, 0, isMobile and 25 or 30),              -- –ï–©–ï –∫–æ–º–ø–∞–∫—Ç–Ω–µ–µ –≤—ã—Å–æ—Ç–∞
			Position = UDim2.new(0, 15, 0, isMobile and 5 or 8),             -- –ú–µ–Ω—å—à–µ –æ—Ç—Å—Ç—É–ø—ã —Å–≤–µ—Ä—Ö—É
			BackgroundTransparency = 1,
			TextXAlignment = Enum.TextXAlignment.Center,
			TextSize = config.headerTextSize,                                 -- –ò–∑ –∫–æ–Ω—Ñ–∏–≥–∞
			Font = Enum.Font.GothamBlack,
			TextColor3 = Color3.fromRGB(255, 255, 255),
			TextStrokeTransparency = 0,
			TextStrokeColor3 = Color3.fromRGB(0, 0, 0),
		}, {
			-- –ù–µ–æ–Ω–æ–≤—ã–π glow –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–∞ (—Ü–≤–µ—Ç –∫–∞–∫ —É —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π)
			TextGlow = Roact.createElement("UIStroke", {
				Color = Color3.fromRGB(80, 80, 80), -- –¢–∞–∫–æ–π –∂–µ —Ü–≤–µ—Ç –∫–∞–∫ —É —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π
				Thickness = 2,
				Transparency = 0.6,
			}),
		}),
		
		-- üéØ –ö–û–ú–ü–ê–ö–¢–ù–ê–Ø –ö–ù–û–ü–ö–ê –ó–ê–ö–†–´–¢–ò–Ø
		CloseButton = Roact.createElement("TextButton", {
			Text = "X", -- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–∏–º–≤–æ–ª X
			Size = UDim2.new(0, isMobile and 30 or 32, 0, isMobile and 30 or 32),   -- –ú–µ–Ω—å—à–µ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö
			Position = UDim2.new(1, isMobile and -38 or -45, 0, isMobile and 6 or 12), -- –ë–ª–∏–∂–µ –∫ —É–≥–ª—É
			BackgroundColor3 = Color3.fromRGB(220, 50, 50), -- –Ø—Ä–∫–æ-–∫—Ä–∞—Å–Ω—ã–π
			BackgroundTransparency = 0,
			TextSize = config.buttonTextSize,                                        -- –ò–∑ –∫–æ–Ω—Ñ–∏–≥–∞
			Font = Enum.Font.GothamBlack,
			TextColor3 = Color3.fromRGB(255, 255, 255),
			AutoButtonColor = false,
			[Roact.Event.Activated] = function()
				if self.props.onClose then
					self.props.onClose()
				end
			end,
			-- –¢–û–õ–¨–ö–û –¥–ª—è –¥–µ—Å–∫—Ç–æ–ø–∞: –∞–Ω–∏–º–∞—Ü–∏–∏ hover (–Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö –Ω–µ –Ω—É–∂–Ω—ã)
			[Roact.Event.MouseEnter] = not isMobile and function(button)
				-- –ê–Ω–∏–º–∞—Ü–∏—è hover - —É–≤–µ–ª–∏—á–µ–Ω–∏–µ
				local baseSize = isMobile and 30 or 32
				local hoverSize = baseSize + 4
				
				local tween = TweenService:Create(button,
					TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
					{
						Size = UDim2.new(0, hoverSize, 0, hoverSize),
						BackgroundColor3 = Color3.fromRGB(255, 70, 70)
					}
				)
				tween:Play()
			end or nil,
			[Roact.Event.MouseLeave] = not isMobile and function(button)
				-- –ê–Ω–∏–º–∞—Ü–∏—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –∫ –±–∞–∑–æ–≤–æ–º—É —Ä–∞–∑–º–µ—Ä—É
				local baseSize = isMobile and 30 or 32
				
				local tween = TweenService:Create(button,
					TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
					{
						Size = UDim2.new(0, baseSize, 0, baseSize),
						BackgroundColor3 = Color3.fromRGB(220, 50, 50)
					}
				)
				tween:Play()
			end or nil,
		}, {
			UICorner = Roact.createElement("UICorner", {
				CornerRadius = UDim.new(1, 0), -- –ü–æ–ª–Ω–æ—Å—Ç—å—é –∫—Ä—É–≥–ª–∞—è –∫–∞–∫ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ
			}),
			-- –õ–µ–≥–∫–∞—è —Ç–µ–Ω—å
			Shadow = Roact.createElement("Frame", {
				BackgroundColor3 = Color3.fromRGB(0, 0, 0),
				BackgroundTransparency = 0.7,
				BorderSizePixel = 0,
				Size = UDim2.new(1, 4, 1, 4),
				Position = UDim2.new(0, -2, 0, 2),
				ZIndex = -1,
			}, {
				UICorner = Roact.createElement("UICorner", {
					CornerRadius = UDim.new(1, 0),
				}),
			}),
		}),
		
		-- üìú –¶–ï–ù–¢–†–ò–†–û–í–ê–ù–ù–´–ô –°–ö–†–û–õ–õ–ò–†–£–ï–ú–´–ô –ö–û–ù–¢–ï–ô–ù–ï–†
		ProductsList = Roact.createElement("ScrollingFrame", {
			-- –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–æ–ª–Ω—É—é —à–∏—Ä–∏–Ω—É —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ –æ—Ç—Å—Ç—É–ø–∞–º–∏
			Size = UDim2.new(1, -10, 1, -(isMobile and 60 or 70)), -- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã –ø–æ –±–æ–∫–∞–º
			Position = UDim2.new(0, 5, 0, isMobile and 50 or 60), -- –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è
			BackgroundTransparency = 1,
			BorderSizePixel = 0,
			CanvasSize = UDim2.new(0, 0, 0, totalContentHeight),
			-- –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞
			ScrollBarThickness = isMobile and 8 or 12,
			ScrollBarImageColor3 = Color3.fromRGB(80, 80, 80),
			ScrollBarImageTransparency = 0.3,
			-- –£–ª—É—á—à–µ–Ω–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö
			ScrollingEnabled = true,
			CanvasPosition = Vector2.new(0, 0),
		}, productElements)
	})
end

return ShopComponent
