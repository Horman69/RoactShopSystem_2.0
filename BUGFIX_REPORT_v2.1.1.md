# –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –û–®–ò–ë–û–ö v2.1.1
**–î–∞—Ç–∞:** 07.07.2025  
**–°—Ç–∞—Ç—É—Å:** –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –û–®–ò–ë–ö–ò –ò–°–ü–†–ê–í–õ–ï–ù–´

## üîß –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ï –ü–†–û–ë–õ–ï–ú–´

### 1. ‚ùå setState –≤ render –º–µ—Ç–æ–¥–µ
**–ü—Ä–æ–±–ª–µ–º–∞:** `setState cannot be used in the render method`
**–ü—Ä–∏—á–∏–Ω–∞:** –¶–∏–∫–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ä–∞–±–æ—Ç–∞–ª –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
**–†–µ—à–µ–Ω–∏–µ:** 
- –ü–µ—Ä–µ–Ω–µ—Å–ª–∏ `updateState` –≤ `didMount`
- –î–æ–±–∞–≤–∏–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ü–∏–∫–ª–æ–º –≤ `willUnmount`
- –£–±—Ä–∞–ª–∏ –≤—ã–∑–æ–≤—ã setState –∏–∑ render

### 2. üìä –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª—Å—è  
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã –±—ã–ª–∏ –Ω–µ–≤–∏–¥–∏–º—ã
**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–∫
**–†–µ—à–µ–Ω–∏–µ:**
- –°–¥–µ–ª–∞–ª–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã –≤—Å–µ–≥–¥–∞ –≤–∏–¥–∏–º—ã–º–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –î–æ–±–∞–≤–∏–ª–∏ –æ–±–æ–≥–∞—â–µ–Ω–∏–µ activeEffects –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏
- –£–ª—É—á—à–∏–ª–∏ —Ä–∞—Å—á—ë—Ç effectProgress

### 3. üéØ –£–ª—É—á—à–µ–Ω–∏—è –æ—Ç–ª–∞–¥–∫–∏
**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
- –û—Ç–ª–∞–¥–æ—á–Ω—ã–µ –ª–æ–≥–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–Ω–æ–ø–æ–∫
- –ö–æ–Ω—Å–æ–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π

## üìù –í–ù–ï–°–Å–ù–ù–´–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø

### AbilityPanel.luau:
```lua
// –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è
function AbilityPanel:didMount()
    self.updateLoop = spawn(function()
        while self.updateLoop do
            wait(0.1)
            self:updateState()
        end
    end)
end

function AbilityPanel:willUnmount()
    if self.updateLoop then
        self.updateLoop = nil
    end
end

// –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–∫ –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–≤
local enrichedActiveEffects = {}
for abilityId, effect in pairs(activeEffects) do
    enrichedActiveEffects[abilityId] = {
        startTime = effect.startTime or tick(),
        effect = effect
    }
end

// –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã —Ç–µ–ø–µ—Ä—å –≤—Å–µ–≥–¥–∞ –≤–∏–¥–∏–º—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
EffectProgressContainer = Roact.createElement("Frame", {
    Size = UDim2.new(0.8, 0, 0, 4),
    Position = UDim2.new(0.1, 0, 0.9, 0),
    Visible = true, -- –í—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º
})
```

## üéØ –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
- ‚úÖ –û—à–∏–±–∫–∏ setState —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã
- ‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã –≤–∏–¥–∏–º—ã –ø–æ–¥ –∫–∞–∂–¥–æ–π –∫–Ω–æ–ø–∫–æ–π
- ‚úÖ –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π
- ‚úÖ –¶–≤–µ—Ç–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ç–∏–ø—É —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
- ‚úÖ –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ–º–æ–≥–∞–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø–∞–Ω–µ–ª—å —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π (Q)
2. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –ª—é–±—É—é —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å (Q, E, –∏–ª–∏ R)
3. –ù–∞–±–ª—é–¥–∞–π—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –ø–æ–¥ –∫–Ω–æ–ø–∫–æ–π
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –Ω–∞ –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!** üöÄ
