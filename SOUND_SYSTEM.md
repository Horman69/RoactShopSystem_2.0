# SOUND SYSTEM - СИСТЕМА ЗВУКОВ

## Добавлено
**Система звуковых эффектов** для улучшения пользовательского опыта и обратной связи.

## Звуковые эффекты

### 1. Звук покупки (ID: 18444216941)
- **Событие**: Успешная покупка товара в магазине
- **Громкость**: 0.5
- **Эффект**: Мгновенное воспроизведение без анимации

### 2. Звук переключения магазина (ID: 452267918)
- **События**: Открытие и закрытие магазина
- **Громкость**: 0.3
- **Эффект**: Плавное появление звука (fade-in)

### 3. Звук использования способности (ID: 18747232612)
- **Событие**: Активация любой способности игроком
- **Громкость**: 0.4
- **Эффект**: Мгновенное воспроизведение

### 4. Звук ошибки/кулдауна (ID: 17628141786)
- **События**: Попытка использовать способность на кулдауне или отсутствующую способность
- **Громкость**: 0.3
- **Эффект**: Мгновенное воспроизведение
- **Назначение**: Звуковая обратная связь при неудачных попытках активации

## Техническая реализация

### SoundService.luau
Центральный сервис управления звуками с возможностями:
- **Кэширование звуков** - загрузка один раз, многократное использование
- **Предзагрузка** - критические звуки загружаются при старте
- **Мастер-громкость** - общее управление громкостью
- **Fade-эффекты** - плавное появление/исчезновение звуков
- **Безопасность** - обработка ошибок загрузки

### Интеграция

**AppController.luau:**
- Добавлен `SoundService` в инициализацию
- Звук покупки в `onPurchase()`
- Звук переключения магазина в `toggleShop()`

**AbilityService.luau:**
- Добавлен `SoundService` в инициализацию
- Звук использования способности в `activateAbility()`

**ModuleLoader.luau:**
- Добавлен `SoundService` в список критических модулей

## Конфигурация звуков

```lua
local SOUND_CONFIG = {
    PURCHASE = {
        id = 18444216941,
        volume = 0.5,
        pitch = 1.0,
        fadeIn = false,
    },
    
    SHOP_TOGGLE = {
        id = 452267918,
        volume = 0.3,
        pitch = 1.0,
        fadeIn = true,
    },
    
    ABILITY_USE = {
        id = 18747232612,
        volume = 0.4,
        pitch = 1.0,
        fadeIn = false,
    },
    
    ABILITY_COOLDOWN = {
        id = 17628141786,
        volume = 0.3,
        pitch = 1.0,
        fadeIn = false,
    },
}
```

## Пользовательский опыт

**До добавления звуков:**
- Действия происходили "молча"
- Отсутствие обратной связи при покупках
- Менее захватывающий геймплей

**После добавления звуков:**
- ✅ **Покупка** - приятный звук подтверждения
- ✅ **Магазин** - звуковая обратная связь при открытии/закрытии
- ✅ **Способности** - эпичный звук при использовании
- ✅ **Ошибки** - звук уведомления при неудачных попытках (кулдаун, нет способности)
- ✅ **Иммерсивность** - звуки создают ощущение живой игры

## Файлы изменены
- `src/services/SoundService.luau` - новый сервис управления звуками
- `src/App/AppController.luau` - интеграция звуков покупки и магазина
- `src/services/AbilityService.luau` - интеграция звука способностей
- `src/shared/ModuleLoader.luau` - добавлен SoundService в критические модули

## Возможности расширения
- Добавление новых звуков легко через `SOUND_CONFIG`
- Настройка громкости для каждого звука отдельно
- Возможность отключения звуков через настройки
- Добавление музыкального сопровождения
